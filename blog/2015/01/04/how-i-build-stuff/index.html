
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>How I Build Stuff - Hatofmonkeys</title>
  <meta name="author" content="Colin Humphreys">

  
  <meta name="description" content="4th January, Blog #11 How I Build Stuff This is likely to be the most nonsensical of my thoroughly nonsensical Twelve Blogs of Christmas. I wanted to &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.hatofmonkeys.com/blog/2015/01/04/how-i-build-stuff">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Hatofmonkeys" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-26558043-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Hatofmonkeys</a></h1>
  
    <h2>Opinions on building platforms</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.hatofmonkeys.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">How I Build Stuff</h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-04T08:06:00+00:00" pubdate data-updated="true">Jan 4<span>th</span>, 2015</time>
        
      </p>
    
  </header>


<div class="entry-content"><h2><a href="http://blog.hatofmonkeys.com/blog/2014/12/25/the-twelve-blogs-of-christmas/">4th January, Blog #11</a></h2>

<h2>How I Build Stuff</h2>

<p>This is likely to be the most nonsensical of my thoroughly nonsensical <a href="http://blog.hatofmonkeys.com/blog/2014/12/25/the-twelve-blogs-of-christmas/">Twelve Blogs of Christmas</a>. I wanted to capture the recurring themes of the processes I&rsquo;ve employed when bringing software to life; from inception to massive scale. Everything here should be overridden by domain-specific knowledge/concerns as appropriate. Or ignored altogether :)</p>

<h3>Don&rsquo;t build anything</h3>

<p>If you&rsquo;ve had an idea for something, it&rsquo;s probably already been done. Go and have a look. If your idea hasn&rsquo;t been done it&rsquo;s probably quite likely you can reskin/resell/repackage/repurpose a current service to deliver the new service you&rsquo;re hoping people will find valuable.</p>

<h3>Start at the top, not the bottom</h3>

<p>If your idea hasn&rsquo;t been developed before, look for two or more currently running services you can combine to create the value. Use SaaS. If you have to write software, host it in a PaaS that does as much heavy lifting as possible. Don&rsquo;t start with infrastructure and build upwards. You don&rsquo;t have time, and you&rsquo;ve got better things to do.</p>

<h3>Get feedback from day 1</h3>

<p>Get meaningful feedback about your service as soon as possible. Your idea is probably stupid, and you should stop (or pivot). That&rsquo;s the harsh reality of the situation. Continue getting feedback about your decisions as fast as possible and as frequently as possible. Your ability to gain and act on feedback will be the key determinant of the success or failure of whatever you&rsquo;re building. Read &lsquo;The Lean Startup&rsquo;. <a href="https://github.com/hatofmonkeys/cucumber-value">Cucumber-value</a> is a rubbish piece of software, but should make you think about how you can quantify and measure real metrics for success.</p>

<h3>Use small teams that &lsquo;own&rsquo; services with business value</h3>

<p>Business services are owned by small teams. Teams own one or more (micro?) services. Use <a href="http://en.wikipedia.org/wiki/Domain-driven_design">Domain-Driven Design</a> as a guide for breaking large problems into smaller services. Don&rsquo;t overly engineer towards microservices, let them emerge, you can break them down further at a later date. Don&rsquo;t be afraid to sacrifice your architecture if it needs replacing; you&rsquo;re learning. Hire people that learn fast; they can gain knowledge from others in the team. Use <a href="http://www.slideshare.net/motochan/agile-the-pivotal-way-compressed">&lsquo;The Pivotal Way&rsquo; &ndash; lightweight XP</a>. Initially create a Git repository per service; shared code will emerge into new repositories. Use GitHub or BitBucket &ndash; you&rsquo;re not a Git hosting service (unless that&rsquo;s your idea, and if it is, it&rsquo;s already been done).</p>

<h3>Deploy to somebody else&rsquo;s Cloud Foundry</h3>

<p>Deploy two(or more) Cloud Foundry instances per (micro)service. Use run.pivotal.io, Anynines, Fjord IT, AppFog, Bluemix, or any other hosted Cloud Foundry (not your own). Write and deploy your (micro)services quickly, in languages you can develop quickly in: we like Go and Ruby. If you need to develop in a less agile language as requirements emerge you can do that later. Don&rsquo;t be afraid to use a range of languages; the cost of doing this is mitigated by the PaaS abstraction. Kill your (micro)services and create new ones as necessary.</p>

<h3>Start with Continuous Delivery and continue to deliver</h3>

<p>Begin with a test for &lsquo;Hello World&rsquo;, an app that outputs &lsquo;Hello World&rsquo; in your chosen language/framework, and a CI server that can run your test then deploy the working software to Cloud Foundry. Iterate from there. Use Travis or Circle until you need your own Jenkins/GoCD/Concourse solution.</p>

<h3>Log problems and measure latency</h3>

<p>Log when things go wrong. Measure the latency(time from request to response) when things go right. Use Papertrail for the logs. Use New Relic for the metrics. Replace Papertrail with <a href="https://github.com/logsearch">Logsearch</a> and New Relic with Graphite when you need to.</p>

<h3>Use JSON templates</h3>

<p>Use JSON to communicate between your (micro)services. Use JSON templates as lightweight contracts between (micro)services. Use HTTPS with circuit breakers for synchronous communication. Use Redis or RabbitMQ for asynchronous communication. If your code can&rsquo;t get to Redis/RabbitMQ/another HTTP endpoint &ndash; die quickly rather than tying up resources.</p>

<h3>Lightweight data</h3>

<p>Start with JSON in Redis. Move to JSON in MongoDB when you need to query the data with more flexibility. Place your BLOBs in AWS S3. Once you know whether your data &ndash; per (micro)service &ndash; needs to be consistent or available you can change data store as required. Cassandra is a great available data store. Postgres is a great consistent data store (if you can&rsquo;t afford Oracle RAC, which you can&rsquo;t). If you&rsquo;re generating huge quantities of events throw them into Hadoop.</p>

<h3><a href="http://blog.hatofmonkeys.com/blog/2015/01/01/mutable-state/">Mutable state is the enemy</a></h3>

<p>Generate events &ndash; immutable statements of fact &ndash; based upon actions. Simple, immutable, repeatable JSON events are a great start. <a href="http://martinfowler.com/eaaDev/EventSourcing.html">Store the events in an event log</a> and use them to mutate the data stores powering consuming services &ndash; <a href="http://martinfowler.com/bliki/CQRS.html">separating commands from queries</a>.</p>

<h3>Customise Cloud Foundry when you need to</h3>

<p>Customising Cloud Foundry is remarkably easy; do it when requirements demand. Adding buildpacks, services, even stacks (<a href="http://www.cloudcredo.com/decker-docker-cloud-foundry/">I added Docker</a>) is straightforward. Don&rsquo;t start with Cloud Foundry customisation but don&rsquo;t be afraid to take the step if you need to. Deploy to your own IaaS or even your own metal if security/regulation/performance concerns necessitate it.</p>

<h3>Go fast and fail faster</h3>

<p>In summary: get fast feedback about the software you&rsquo;re bringing to life. Fail fast if you&rsquo;re doing the wrong thing. Don&rsquo;t over-engineer; do what works, deliver quickly. Realise the opportunity cost of your (and your team&rsquo;s) time. Could you be building something more valuable instead?</p>

<p><a href="https://www.youtube.com/watch?v=W_vM8ePGuRM">Christmas Garage! This one&rsquo;s relatively recent. And good.</a></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Colin Humphreys</span></span>

      








  


<time datetime="2015-01-04T08:06:00+00:00" pubdate data-updated="true">Jan 4<span>th</span>, 2015</time>
      


    </p>
    
      <div class="sharing">
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/01/03/the-problems-with-paas/" title="Previous Post: The Problems With PaaS">&laquo; The Problems With PaaS</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/01/05/the-cloudcredo-way/" title="Next Post: The CloudCredo Way">The CloudCredo Way &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/01/05/the-cloudcredo-way/">The CloudCredo Way</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/04/how-i-build-stuff/">How I Build Stuff</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/03/the-problems-with-paas/">The Problems With PaaS</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/02/service-foundry/">Service Foundry</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/01/mutable-state/">Mutable State</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/hatofmonkeys">@hatofmonkeys</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'hatofmonkeys',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/hatofmonkeys?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/hatofmonkeys">My Delicious Bookmarks &raquo;</a></p>
</section>



<section>
  <h1>Twitter</h1>
  <a class="twitter-timeline" href="https://twitter.com/hatofmonkeys" data-widget-id="351933447830396928">Tweets by @hatofmonkeys</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Colin Humphreys -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'hatofmonkeysblog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://blog.hatofmonkeys.com/blog/2015/01/04/how-i-build-stuff/';
        var disqus_url = 'http://blog.hatofmonkeys.com/blog/2015/01/04/how-i-build-stuff/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>







</body>
</html>
